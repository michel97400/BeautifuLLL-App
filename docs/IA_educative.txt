CREATE TABLE agents(
   id_agents VARCHAR(50),
   userid VARCHAR(50) NOT NULL,
   promptperso VARCHAR(50) NOT NULL,
   historique VARCHAR(50) NOT NULL,
   PRIMARY KEY(id_agents),
   UNIQUE(userid)
);

CREATE TABLE Role(
   id_role VARCHAR(50),
   nom_role VARCHAR(50) NOT NULL,
   PRIMARY KEY(id_role)
);

CREATE TABLE users(
   id_users VARCHAR(50),
   nom VARCHAR(50) NOT NULL,
   email VARCHAR(50) NOT NULL,
   date_derniere_connexion DATETIME NOT NULL,
   date_inscription DATETIME NOT NULL,
   passwordhash VARCHAR(50) NOT NULL,
   prénom VARCHAR(50) NOT NULL,
   id_role VARCHAR(50) NOT NULL,
   PRIMARY KEY(id_users),
   UNIQUE(email),
   FOREIGN KEY(id_role) REFERENCES Role(id_role)
);

CREATE TABLE communiquer(
   id_agents VARCHAR(50),
   id_users VARCHAR(50),
   PRIMARY KEY(id_agents, id_users),
   FOREIGN KEY(id_agents) REFERENCES agents(id_agents),
   FOREIGN KEY(id_users) REFERENCES users(id_users)
);
